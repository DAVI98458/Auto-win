-- Copia o link da key automaticamente
setclipboard("https://lootdest.org/s?nJO3MzzM")

-- Carrega Rayfield com sistema de key
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({
	Name = "Red Light, Green Light and Glass Bridge",
	LoadingTitle = "Loading...",
	LoadingSubtitle = "By @shadown_gd",
	ConfigurationSaving = { Enabled = false },
	KeySystem = true,
	KeySettings = {
		Title = "Script Access",
		Subtitle = "Enter the access key below",
		Note = "The key link has already been copied",
		FileName = "AccessKey",
		SaveKey = false,
		GrabKeyFromSite = false,
		Key = "11.7ü•≥"
	}
})

-- Servi√ßos
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")

local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera

-- Vari√°veis globais
getgenv().AimbotAtivado = false
getgenv().ESPAtivado = false
getgenv().TeamCheck = false
getgenv().DeadCheck = false
getgenv().WallCheck = false
getgenv().Noclip = false
getgenv().InfJump = false

-- Fun√ß√µes Utilit√°rias
local function teleportTo(vec)
	if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
		LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(vec)
	end
end

-- ESP
function applyESP()
	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character and not player.Character:FindFirstChild("ESPName") then
			local head = player.Character:FindFirstChild("Head")
			if head then
				local tag = Instance.new("BillboardGui", player.Character)
				tag.Name = "ESPName"
				tag.Adornee = head
				tag.Size = UDim2.new(0, 100, 0, 20)
				tag.StudsOffset = Vector3.new(0, 2, 0)
				tag.AlwaysOnTop = true

				local text = Instance.new("TextLabel", tag)
				text.Text = player.Name
				text.Font = Enum.Font.SourceSansBold
				text.TextSize = 11
				text.TextScaled = false
				text.TextStrokeTransparency = 0
				text.BackgroundTransparency = 1
				text.Size = UDim2.new(1, 0, 1, 0)

				if player.Team ~= LocalPlayer.Team then
					text.TextColor3 = Color3.new(1, 0, 0)
				else
					text.TextColor3 = Color3.new(0, 0.6, 1)
				end
			end
		end
	end
end

function clearESP()
	for _, player in ipairs(Players:GetPlayers()) do
		if player.Character and player.Character:FindFirstChild("ESPName") then
			player.Character:FindFirstChild("ESPName"):Destroy()
		end
	end
end

RunService.RenderStepped:Connect(function()
	if getgenv().ESPAtivado then
		applyESP()
	else
		clearESP()
	end
end)

-- Infinite Jump
UserInputService.JumpRequest:Connect(function()
	if getgenv().InfJump and LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
		LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
	end
end)

-- Noclip
RunService.Stepped:Connect(function()
	if getgenv().Noclip and LocalPlayer.Character then
		for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
			if part:IsA("BasePart") and part.CanCollide then
				part.CanCollide = false
			end
		end
	end
end)

-- Auto Win
local AutoWin = Window:CreateTab("Auto Win", 4483362458)
AutoWin:CreateButton({
	Name = "Auto Win Glass Bridge",
	Callback = function()
		Rayfield:Notify({Title = "Aguarde", Content = "Wait 3 seconds", Duration = 3})
		teleportTo(Vector3.new(-22, 161, 1546))
		task.wait(3)
		teleportTo(Vector3.new(195, 161, 1548))
	end
})

AutoWin:CreateButton({
	Name = "Auto Win Red Light and Green Light",
	Callback = function()
		Rayfield:Notify({Title = "Aguarde", Content = "Wait 4 seconds", Duration = 4})
		teleportTo(Vector3.new(338, 4, -189))
		task.wait(4)
		teleportTo(Vector3.new(-249, 4, -184))
	end
})

AutoWin:CreateButton({
	Name = "Safezone",
	Callback = function()
		teleportTo(Vector3.new(383, 4, -80))
	end
})

-- Aimbot (simples mira na cabe√ßa)
RunService.RenderStepped:Connect(function()
	if getgenv().AimbotAtivado then
		local closest = nil
		local shortest = math.huge
		for _, player in pairs(Players:GetPlayers()) do
			if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") then
				if getgenv().TeamCheck and player.Team == LocalPlayer.Team then continue end
				if getgenv().DeadCheck and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health <= 0 then continue end
				if getgenv().WallCheck and not Camera:FindPartOnRay(Ray.new(Camera.CFrame.Position, (player.Character.Head.Position - Camera.CFrame.Position).Unit * 1000)) then continue end
				
				local pos, visible = Camera:WorldToViewportPoint(player.Character.Head.Position)
				local dist = (Vector2.new(pos.X, pos.Y) - UserInputService:GetMouseLocation()).Magnitude
				if dist < shortest then
					shortest = dist
					closest = player
				end
			end
		end

		if closest and closest.Character and closest.Character:FindFirstChild("Head") then
			Camera.CFrame = CFrame.new(Camera.CFrame.Position, closest.Character.Head.Position)
		end
	end
end)

local AimbotTab = Window:CreateTab("Aimbot", 6034287535)
AimbotTab:CreateToggle({Name = "On Aimbot", CurrentValue = false, Callback = function(v) getgenv().AimbotAtivado = v end})
AimbotTab:CreateToggle({Name = "ESP All Nickname", CurrentValue = false, Callback = function(v) getgenv().ESPAtivado = v end})
AimbotTab:CreateToggle({Name = "Team Check", CurrentValue = false, Callback = function(v) getgenv().TeamCheck = v end})
AimbotTab:CreateToggle({Name = "Dead Check", CurrentValue = false, Callback = function(v) getgenv().DeadCheck = v end})
AimbotTab:CreateToggle({Name = "Wall Check", CurrentValue = false, Callback = function(v) getgenv().WallCheck = v end})

-- Modifiers
local ModTab = Window:CreateTab("Modifiers", 4483362458)
ModTab:CreateSlider({
	Name = "WalkSpeed",
	Range = {16, 300},
	Increment = 1,
	CurrentValue = 16,
	Callback = function(v)
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
			LocalPlayer.Character.Humanoid.WalkSpeed = v
		end
	end
})
ModTab:CreateSlider({
	Name = "JumpPower",
	Range = {50, 500},
	Increment = 1,
	CurrentValue = 50,
	Callback = function(v)
		if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
			LocalPlayer.Character.Humanoid.JumpPower = v
		end
	end
})
ModTab:CreateToggle({
	Name = "Noclip",
	CurrentValue = false,
	Callback = function(v) getgenv().Noclip = v end
})
ModTab:CreateToggle({
	Name = "Infinite Jump",
	CurrentValue = false,
	Callback = function(v) getgenv().InfJump = v end
})

-- Cr√©ditos
local Credits = Window:CreateTab("Credits", 4483362458)
Credits:CreateParagraph({Title = "Diretor:", Content = "@shadown_gd"})
Credits:CreateParagraph({Title = "Programadores:", Content = "@shadown_gd and @Shadownchavoso"})
Credits:CreateButton({
	Name = "DISCORD",
	Callback = function()
		setclipboard("https://discord.gg/baSasGFhaG")
		Rayfield:Notify({Title = "Copiado!", Content = "Link do Discord copiado", Duration = 3})
	end
})
